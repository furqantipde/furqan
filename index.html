<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Currency + Compiler ‚Äî Made by Furqan</title>
<style>
:root{--bg:#0b1220;--card:#0f1724;--muted:#9aa4b2;--accent:#7c3aed;--text:#e6eef6}
[data-theme="light"]{--bg:#f6f8fb;--card:#fff;--muted:#5b6b78;--accent:#4f46e5;--text:#071126}
body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:var(--text)}
.container{max-width:1100px;margin:20px auto;padding:16px}
header{display:flex;justify-content:space-between;align-items:center}
h1{margin:0;font-size:20px}
button{background:var(--accent);border:0;padding:6px 10px;border-radius:8px;color:white;cursor:pointer}
select,input,textarea{width:100%;padding:8px;border-radius:6px;border:1px solid #ccc}
.card{background:var(--card);padding:14px;border-radius:12px;margin-bottom:20px}
.row{display:flex;gap:6px}
.output{background:#000;color:#0f0;padding:8px;font-family:monospace;height:120px;overflow:auto;border-radius:6px}
.flag{font-size:18px;margin-right:4px}
.small{font-size:12px;color:var(--muted)}
footer{text-align:center;font-size:12px;color:var(--muted);margin-top:20px}
.link-btn{background:transparent;border:1px solid var(--muted);color:var(--text)}
#privacyModal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center}
#privacyModal .box{background:var(--card);padding:20px;border-radius:12px;max-width:600px}
</style>
</head>
<body data-theme="dark">
<div class="container">
<header>
<h1>Currency Converter + Compiler</h1>
<div>
<button id="themeBtn">Toggle Theme</button>
<button id="privacyBtn" class="link-btn">Privacy</button>
</div>
</header>

<!-- Currency Converter -->
<div class="card">
<h3>Currency Converter</h3>
<div class="row">
<input id="amount" type="number" value="1" min="0"/>
<select id="from"></select>
<button id="swapBtn" class="link-btn">‚Üî</button>
<select id="to"></select>
</div>
<div style="margin-top:8px" class="row">
<button id="convertBtn">Convert</button>
<button id="csvBtn" class="link-btn">Export CSV</button>
<button id="copyBtn" class="link-btn">Copy</button>
</div>
<div class="small" id="rateInfo">Using exchangerate.host</div>
<div id="result" style="margin-top:10px;font-weight:700">‚Äî</div>
</div>

<!-- Compiler -->
<div class="card">
<h3>Online Compiler</h3>
<label>Language</label>
<select id="langSelect"></select>
<label style="margin-top:6px">Code</label>
<textarea id="code" rows="8">#include &lt;stdio.h&gt;\nint main(){printf("Hello, world!\\n");return 0;}</textarea>
<label style="margin-top:6px">Input</label>
<input id="stdin" placeholder="Optional stdin"/>
<div class="row" style="margin-top:8px">
<button id="runBtn">Run</button>
<button id="copyCodeBtn" class="link-btn">Copy Code</button>
</div>
<div class="output" id="output">Output here‚Ä¶</div>
<div class="small">‚ö†Ô∏è Uses public Judge0 API with CORS proxy</div>
</div>

<footer>¬© Made by Furqan ‚Äî Simple tools with ‚ù§Ô∏è</footer>
</div>

<!-- Privacy modal -->
<div id="privacyModal">
<div class="box">
<h3>Privacy Policy</h3>
<p>This site does not store your data. Currency rates are fetched from exchangerate.host. Code is sent to public Judge0 API via CORS proxy for execution.</p>
<p>Made by Furqan</p>
<button id="closePrivacy">Close</button>
</div>
</div>

<script>
const body=document.body;
document.getElementById('themeBtn').onclick=()=>{
  const t=body.getAttribute('data-theme')==='dark'?'light':'dark';
  body.setAttribute('data-theme',t);localStorage.setItem('theme',t);
};
if(localStorage.getItem('theme')) body.setAttribute('data-theme',localStorage.getItem('theme'));

// Currency converter
const CURRENCIES=[
{code:'USD',flag:'üá∫üá∏'},{code:'EUR',flag:'üá™üá∫'},{code:'GBP',flag:'üá¨üáß'},{code:'JPY',flag:'üáØüáµ'},
{code:'AUD',flag:'üá¶üá∫'},{code:'CAD',flag:'üá®üá¶'},{code:'CHF',flag:'üá®üá≠'},{code:'CNY',flag:'üá®üá≥'},
{code:'INR',flag:'üáÆüá≥'},{code:'PKR',flag:'üáµüá∞'},{code:'BRL',flag:'üáßüá∑'}
];
const fromSel=document.getElementById('from'),toSel=document.getElementById('to');
CURRENCIES.forEach(c=>{fromSel.add(new Option(`${c.flag} ${c.code}`,c.code));toSel.add(new Option(`${c.flag} ${c.code}`,c.code));});
fromSel.value='USD';toSel.value='PKR';

async function convert(){
  const from=fromSel.value,to=toSel.value,amt=document.getElementById('amount').value;
  document.getElementById('result').textContent='Converting‚Ä¶';
  try{
    const r=await fetch(`https://api.exchangerate.host/convert?from=${from}&to=${to}&amount=${amt}`);
    const d=await r.json();
    document.getElementById('rateInfo').textContent=`1 ${from} = ${d.info.rate} ${to}`;
    document.getElementById('result').textContent=`${amt} ${from} ‚âà ${d.result} ${to}`;
  }catch(e){document.getElementById('result').textContent='Error';}
}
document.getElementById('convertBtn').onclick=convert;
document.getElementById('swapBtn').onclick=()=>{[fromSel.value,toSel.value]=[toSel.value,fromSel.value];convert();};
document.getElementById('csvBtn').onclick=()=>{
  const csv=`Amount,From,To,Result\n${document.getElementById('amount').value},${fromSel.value},${toSel.value},${document.getElementById('result').textContent}`;
  const blob=new Blob([csv],{type:'text/csv'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='conversion.csv';a.click();
};
document.getElementById('copyBtn').onclick=()=>navigator.clipboard.writeText(document.getElementById('result').textContent);
convert();

// Compiler
const LANGS=[{id:50,name:'C'},{id:54,name:'C++'},{id:62,name:'Java'},{id:63,name:'JavaScript'},{id:71,name:'Python'}];
const langSelect=document.getElementById('langSelect');
LANGS.forEach(l=>langSelect.add(new Option(l.name,l.id)));

async function run(){
  const payload={language_id:langSelect.value,source_code:document.getElementById('code').value,stdin:document.getElementById('stdin').value};
  document.getElementById('output').textContent='Running‚Ä¶';
  try{
    const r=await fetch('https://cors-anywhere.herokuapp.com/https://ce.judge0.com/submissions?base64_encoded=false&wait=true',{
      method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)
    });
    const d=await r.json();
    document.getElementById('output').textContent=d.stdout||d.stderr||d.compile_output||'No output';
  }catch(e){document.getElementById('output').textContent='Error: '+e;}
}
document.getElementById('runBtn').onclick=run;
document.getElementById('copyCodeBtn').onclick=()=>navigator.clipboard.writeText(document.getElementById('code').value);

// Privacy modal
document.getElementById('privacyBtn').onclick=()=>document.getElementById('privacyModal').style.display='flex';
document.getElementById('closePrivacy').onclick=()=>document.getElementById('privacyModal').style.display='none';
</script>
</body>
</html>
